yaml name: Android APK on: workflow_dispatch: push: paths: - 'app/**' - 'build.gradle' - 'settings.gradle' - 'app/build.gradle' - '.github/workflows/**' jobs: build: runs-on: ubuntu-latest steps: - name: Checkout uses: actions/checkout@v4 - name: Set up JDK 17 uses: actions/setup-java@v4 with: distribution: 'temurin' java-version: '17' - name: Set up Android SDK uses: android-actions/setup-android@v3 # Fetch offline JS libs so APK is fully offline - name: Prepare offline libs run: | mkdir -p app/src/main/assets/www/libs curl -L -o app/src/main/assets/www/libs/chart.min.js https://cdn.jsdelivr.net/npm/chart.js curl -L -o app/src/main/assets/www/libs/xlsx.full.min.js https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js curl -L -o app/src/main/assets/www/libs/pdf.min.js https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.10.111/pdf.min.js curl -L -o app/src/main/assets/www/libs/tesseract.min.js https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js curl -L -o app/src/main/assets/www/libs/papaparse.min.js https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js - name: Gradle build uses: gradle/gradle-build-action@v3 with: gradle-version: 8.9 arguments: assembleDebug - name: Upload APK uses: actions/upload-artifact@v4 with: name: CKDPlanner-debug-apk path: app/build/outputs/apk/debug/app-debug.apk ``` 2) File path should be **`.github/workflows/build-apk.yml
